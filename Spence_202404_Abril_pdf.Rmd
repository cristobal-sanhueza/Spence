---
title: "Asertividad del Modelo de Pronóstico de MP10 para Minera Spence"
date: "Abril 2024"
geometry: "left=2cm,right=2cm,top=2cm,bottom=2cm"
output: pdf_document
header-includes:
  - \usepackage[document]{ragged2e}
  - \usepackage{fancyhdr, geometry, sectsty}
  - \pagestyle{fancy}
  - \fancyhf{}
  - \graphicspath{ {./imagenes/} }
  - \lhead{\includegraphics[width=10cm]{LogoGeoaire}}
  - \setlength{\headheight}{22pt}
  - \renewcommand{\footrulewidth}{0.4pt}
  - \fancyfoot[C]{Av. Providencia 1208, Oficina 1603 - Providencia - Santiago - CHILE \newline http://www.geoaire.cl - contacto@geoaire.cl - +56  2 22093838 - 09883-6590}
  - \geometry{bottom = 2cm}
  - \allsectionsfont{\color{blue}}
  - \fancypagestyle{plain}{\pagestyle{fancy}}
---

```{r load_libraries, include=FALSE}
library(openair)
library(pander)
library(tidyverse)
library(dygraphs)
library(xts)
library(readxl)
library(RColorBrewer)
library(data.table)
library(gplots)
library(scales)
library(DTWBI)
library(hydroGOF)
library(cvms)
library(lubridate)
library(stringr)
```


```{r, echo = FALSE, message = FALSE, warning = FALSE}

MesDelReporte = "abril"
  
start_date <- '01-04-2024'
end_date <- '30-04-2024'

end_date_parsed <- dmy(end_date)

YearDelReporte <- year(end_date_parsed)

fecha_comienzo <- as.Date(start_date, format='%d-%m-%Y')
fecha_comienzo_dia <- format(fecha_comienzo, format = "%d")
fecha_comienzo_mes <- format(fecha_comienzo, format = '%m')
fecha_termino <- as.Date(end_date, format='%d-%m-%Y')
fecha_termino_dia <- format(fecha_termino, format = "%d")
fecha_termino_mes <- format(fecha_termino, format = "%m")
fecha_termino_year <- format(fecha_termino, format = "%Y")

# Create a lookup vector for Spanish month names
spanish_months <- c("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", 
                    "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre")

# Use the month number to get the Spanish month name
fecha_termino_mes_nombre <- spanish_months[as.numeric(fecha_termino_mes)]

fecha_entrega <- fecha_termino %m+% months(1)
Mes_de_entrega <- format(fecha_entrega, format = "%m")
Year_de_entrega <- format(fecha_entrega, format = "%Y")

Mes_de_entrega_nombre <- spanish_months[as.numeric(Mes_de_entrega)]

# Fecha para ELABORACION, REVISION, APROBACION
first_day_next_month <- floor_date(fecha_termino %m+% months(1), "month")
first_day_next_month_weekday <- wday(first_day_next_month)

if(first_day_next_month_weekday > 5) {
    first_day_next_month <- first_day_next_month + (8 - first_day_next_month_weekday)
}

Primer_dia_habil_sgte_mes <- format(first_day_next_month, format='%d-%m-%Y')

# -------------------------------------------------------------------------------------------
  
setwd("/Users/cristobal512/Desktop/geoaire")


#MP10 MOD #

path_mp10_mod <- paste0('/Users/cristobal512/Desktop/geoaire/Spence/Modelados/Geologger/calidad-aire-dia-hora_Campamento-PRO_', start_date, '_a_', end_date, '.csv')

MP10_Modelados <- read_csv(path_mp10_mod, col_types = cols(Fecha = col_date(format = "%d/%m/%Y")))

MP10_Modelados <- MP10_Modelados %>% 
  rename(MP10_Mod = `MP10 (µg/m³N)`)

MP10_Modelados <- MP10_Modelados %>%
  mutate(Fecha = ymd_h(paste(Fecha, Hora)))

MeanMP10byHour_Modelados <- MP10_Modelados %>% 
  select(Hora, MP10_Mod) %>% 
  group_by(Hora) %>% 
  summarise(MP10_Mod = mean(MP10_Mod, na.rm = TRUE))


#MP10 OBS #

path_mp10_obs <- paste0('/Users/cristobal512/Desktop/geoaire/Spence/Observados/Geologger/calidad-aire-dia-hora_Campamento_', start_date, '_a_', end_date, '.csv')

MP10_Observados <- read_csv(path_mp10_obs, col_types = cols(Fecha = col_date(format = "%d/%m/%Y")))

MP10_Observados <- MP10_Observados %>% 
  rename(MP10_Obs = `MP10 (µg/m³N)`)

MP10_Observados <- MP10_Observados %>%
  mutate(Fecha = ymd_h(paste(Fecha, Hora)))

MeanMP10byHour_Observados <- MP10_Observados %>% 
  select(Hora, MP10_Obs) %>% 
  group_by(Hora) %>% 
  summarise(MP10_Obs = mean(MP10_Obs, na.rm = TRUE))

# MET MOD #

path_met_mod <- paste0('/Users/cristobal512/Desktop/geoaire/Spence/Modelados/Geologger/Campamento-PRO_', start_date, '_a_', end_date, '.csv')

Met_Modelados <- read_csv(path_met_mod,
                          col_types = cols(Fecha = col_date(format = "%d/%m/%Y"),
                                           Hora = col_integer(),
                                           `Direccion viento (°)` = col_double(),
                                           `Temperatura (°C)` = col_double(),
                                           `Velocidad del viento (m/s)` = col_double()))

Met_Modelados <- Met_Modelados %>% 
  rename(date = Fecha,
         wd = `Direccion viento (°)`,
         ws = `Velocidad del viento (m/s)`,
         t = `Temperatura (°C)`)

Met_Modelados <- Met_Modelados %>%
  mutate(date = ymd_h(paste(date, Hora)))

# MET OBS #

path_met_obs <- paste0('/Users/cristobal512/Desktop/geoaire/Spence/Observados/Geologger/Campamento_', start_date, '_a_', end_date, '.csv')

Met_Observados <- read_csv(path_met_obs,
                          col_types = cols(Fecha = col_date(format = "%d/%m/%Y"),
                                           Hora = col_integer(),
                                           `Direccion viento (°)` = col_double(),
                                           `Temperatura (°C)` = col_double(),
                                           `Velocidad del viento (m/s)` = col_double()))

Met_Observados <- Met_Observados %>% 
  rename(date = Fecha,
         wd = `Direccion viento (°)`,
         ws = `Velocidad del viento (m/s)`,
         t = `Temperatura (°C)`)

Met_Observados <- Met_Observados %>%
  mutate(date = ymd_h(paste(date, Hora)))


```

\centering

![](Imagenes/Truck.jpg){width=40%} ![](Imagenes/geomet_sq.png){width=30%}


![](Imagenes/Geologger.png){width=50%}

\hfill\break

Elaborado por:

**GEOAIRE AMBIENTAL SpA**

Para:

**MINERA SPENCE**

`r Mes_de_entrega_nombre` `r Year_de_entrega`

\hfill\break


```{r, message = FALSE, echo = FALSE}

df <- data.frame(`Nº Proyecto` = c("G23-17"),
                 Elaboración = paste('ESM', '02-05-2024'),
                 Revisión = paste('MTV', '02-05-2024'),
                 Aprobó = paste('PSH', '02-05-2024'),
                 Versión = "V1")

#colnames(df) <- c("Nivel", "Concentración de MP10[µg/m3]", "Descripción")

pander(df, justify = c("center"))
```

\newpage

\justifying

\hfill\break

**ESTUDIO DESARROLLADO POR:**

Dr. Ing. Pedro Sanhueza H.        \hfill Jefe de Proyecto  
Mónica Torreblanca V.             \hfill Ingeniero Ambiental  
Evelyn Salazar M.                \hfill Ingeniero Geografo

\hfill\break



**CONTRAPARTE TÉCNICA:**

David Páez        \hfill Superintendente de Medio Ambiente - SPENCE  
Christian Salazar             \hfill Encargado Calidad del Aire - SPENCE  


\newpage

\hfill\break

\tableofcontents

\newpage 

\hfill\break

```{r echo=FALSE}
#render_toc("Sierra_Gorda_Abril_2023PDF.Rmd")
```

# 1	INTRODUCCIÓN

La Compañía Minera SPENCE, a través de sus actividades de extracción y procesamiento de mineral genera emisiones de material particulado respirable (MP10), el cual se transporta y dispersa según las condiciones meteorológicas imperantes, generando en algunas ocasiones, altos niveles de MP10, el cual se registra en su estación monitora, denominada Campamento, la cual se utiliza para la gestión interna de la operación.

SPENCE posee un TARP (Triggered Action Response Plan), cuyo compromiso es tomar acciones ante condiciones adversas de calidad del aire. Para esto, se utiliza el sistema GEOMET que contiene un pronóstico de condiciones meteorológicas y de calidad del aire (MP10) que alerta sobre las horas y área responsable de los altos niveles de MP10, junto a un Plan de Contingencias que contiene las acciones de acuerdo a los niveles de MP10 alcanzados. Estos niveles corresponden a concentraciones de MP10 sobre 130 µg/m 3 y rangos de acuerdo a los niveles episódicos contenidos en la norma primaria de MP10. Cuando se llegan a esos umbrales, se activa un plan de acción predefinido (TARP).

Para anticiparse a eventos adversos de concentraciones de MP10, que pongan en riesgo la salud de sus trabajadores y su entorno, SPENCE dispone de un Sistema de Pronóstico meteorológico y de MP10 el cual contiene módulos de Pronóstico Meteorológico, Alertas por MP10, Plan de Contingencia, Análisis de trayectorias, y Simulación de Plumas de tronadura. Todas estas herramientas ayudan a la operación en la toma de decisión que minimiza los efectos adversos por MP10.

\hfill\break

## 1.1	OBJETIVO

El objetivo de este informe es evaluar el desempeño del modelo de pronóstico de meteorología y MP10 para Sierra Gorda. Para esto se comparan los valores medidos (observados) en la estación monitora de Sierra Gorda, con los valores pronosticados por el modelo, usando como rangos de validación los niveles 0 µg/m3 a 130 µg/m3 (Bueno), 130 µg/m3 a 180 µg/m3 (Regular o Alerta 1), y sobre 180 µg/m3 (Malo o Alerta 2).

\newpage

\hfill\break

# 2	MEDIDAS DE DESEMPEÑO DEL MODELO DE PRONÓSTICO

El desempeño del modelo de pronóstico meteorológico se evalúa comparando las series de tiempo de las variables velocidad del viento y temperatura (observadas y modeladas). Y la dirección del viento, a través de gráficos de ciclo horario de vientos observados y modelados.

Para evaluar el desempeño del pronóstico de MP10, se utilizan bandas o rangos de valores, de acuerdo a los niveles donde se toman medidas de gestión de calidad del aire, es decir, en los niveles Alerta, Pre-emergencia, y Emergencia.

Es así como los niveles de interés para la gestión del MP10 son las que se indican en la Tabla II.1.

\hfill\break


\centering
**Tabla II.1: Niveles de Interés**
```{r, message = FALSE, echo = FALSE}

df <- data.frame(Nivel = c("Bueno", "Alerta", "Pre-Emergencia", "Emergencia"),
                 `Concentración de MP10[µg/m3]` = c("0 - 130", "130 - 230", "230 - 330", "> 330"))

colnames(df) <- c("Nivel", "Concentración de MP10[µg/m3]")

pander(df, justify = c("center", "center"))

```

\justifying

Se considera un acierto, si el pronóstico y la medición de las concentraciones de MP10 están en el mismo nivel.

Estadísticamente, el acierto se estima a través de la Exactitud, la cual se define como el porcentaje de veces que el pronóstico del modelo coincide con lo observado, respecto al total de pronósticos realizados.

\newpage

\hfill\break

# 3	EVALUACIÓN DEL DESEMPEÑO

Para evaluar el desempeño del modelo de pronóstico, se dispone de la base de datos `r MesDelReporte` del `r YearDelReporte`, de las concentraciones de MP10 medidas en la estación Campamento, la cual se compara con las concentraciones de MP10 pronosticadas por **GEOMET** para igual período.

## 3.1	EVALUACIÓN DEL PRONÓSTICO METEOROLÓGICO


La Figura 3.1 muestra la serie de tiempo de la Temperatura ambiental (ºC) medida y modelada en la estación Campamento. De ella se observa que el modelo de pronóstico meteorológico logra reproducir satisfactoriamente el ciclo diario y la tendencia de la temperatura en la estación Campamento, sin embargo, el modelo en general subestima las máximas y sobreestima los mínimos de temperatura.

\centering

```{r, message = FALSE, echo = FALSE, warning = FALSE}

Temperatura <- inner_join(Met_Observados[c('date', 't')], Met_Modelados[c('date', 't')], by = "date")

Temperatura_longer <- pivot_longer(Temperatura, cols = c("t.x", "t.y"))

Temperatura_longer$name <- factor(Temperatura_longer$name, levels = c("t.x", "t.y"))

Temperatura_longer %>%
  ggplot(aes(x = date, y = value, color = name)) +
  geom_line() +
  theme_bw() +
  theme(legend.position = "top", legend.title = element_blank(), axis.text.x = element_text(angle = 30, hjust = 1)) +
  labs(x = "", y = "Temperatura (°C)") +
  scale_color_manual(values = c("t.y" = "#F8766D", "t.x" = "#00BFC4"), labels = c("Observado", "Modelado")) + # Example colors
  scale_x_datetime(date_labels = "%d %b", date_breaks = "4 day")


```

**Figura 3.1: Serie de tiempo de la Temperatura medida y modelada de la estación Campamento**

\justifying

\hfill\break

El análisis estadístico de la temperatura observada y medida en la estación Campamento es el siguiente. De ella se observa que existe un buen ajuste del modelo.

\centering

**Tabla III.1: Análisis estadístico de la temperatura en la estación Campamento**
```{r, message = FALSE, echo = FALSE, warning = FALSE}

MFError = round(200 * mean(abs(Temperatura$t.y - Temperatura$t.x) / (Temperatura$t.y + Temperatura$t.x), na.rm = TRUE), 2)

MFBias <- round(200 * mean((Temperatura$t.y - Temperatura$t.x) / (Temperatura$t.y + Temperatura$t.x), na.rm = TRUE), 2)

IOAgreement = round(md(Temperatura$t.y, Temperatura$t.x), 2)

df <- data.frame(IOA = "1,0",
                 `Criterio IOA` = "> 0,8",
                 MFE = MFError,
                 `Criterio MFE` = "<+/- 70,0",
                 MFB = MFBias,
                 `Criterio MFB` = "<+/- 60,0")

colnames(df) <- c("IOA", "Criterio IOA", "MFE", "Criterio MFE", "MFB", "Criterio MFB")

pander(df, justify = "center")
```

\justifying

MFB: Sesgo fraccional  
MFE: Error fraccional medio  
IOA: Índice de acuerdo (Index of Agreement)

\newpage

\hfill\break

La Figura 3.2 muestra la serie de tiempo de la Velocidad del viento (m/s) medida y modelada en la estación Campamento. De ella se observa que el modelo de pronóstico meteorológico logra reproducir satisfactoriamente el ciclo diario y la tendencia de la velocidad del viento, sin embargo, el viento modelado sobreestima los máximos y subestima los mínimos.

\hfill\break

\centering

```{r, message = FALSE, echo = FALSE, warning = FALSE}

Velocidad <- inner_join(Met_Observados[c('date', 'ws')], Met_Modelados[c('date', 'ws')], by = "date")

Velocidad_longer <- pivot_longer(Velocidad, cols = c("ws.x", "ws.y"))

Velocidad_longer$name <- factor(Velocidad_longer$name, levels = c("ws.x", "ws.y"))

Velocidad_longer %>%
  ggplot(aes(x = date, y = value, color = name)) +
  geom_line() +
  theme_bw() +
  theme(legend.position = "top", legend.title = element_blank(), axis.text.x = element_text(angle = 30, hjust = 1)) +
  labs(x = "", y = "Velocidad de Viento (m/s)") +
  scale_color_manual(values = c("ws.y" = "#F8766D", "ws.x" = "#00BFC4"), labels = c("Observado", "Modelado")) + # Example colors
  scale_x_datetime(date_labels = "%d %b", date_breaks = "4 day")

```

**Figura 3.2: Serie de tiempo de la Velocidad del viento medida y modelada de la estación Campamento**

\hfill\break

\justifying

El análisis estadístico de la velocidad del viento observada y medida en la estación Campamento se muestra en la Tabla III.2. De ella se observa que existe un buen ajuste del modelo.

\centering

**Tabla III.2: Análisis estadístico de la velocidad del viento en la estación Campamento**

```{r, message = FALSE, echo = FALSE, warning=FALSE}

MFError = round(200 * mean(abs(Velocidad$ws.y - Velocidad$ws.x) / (Velocidad$ws.y + Velocidad$ws.x), na.rm = TRUE), 2)

MFBias <- round(200 * mean((Velocidad$ws.y - Velocidad$ws.x) / (Velocidad$ws.y + Velocidad$ws.x), na.rm = TRUE), 2)

IOAgreement = round(md(Velocidad$ws.y, Velocidad$ws.x), 2)

df <- data.frame(IOA = "1,0",
                 `Criterio IOA` = "> 0,8",
                 MFE = MFError,
                 `Criterio MFE` = "<+/- 70,0",
                 MFB = MFBias,
                 `Criterio MFB` = "<+/- 60,0")

colnames(df) <- c("IOA", "Criterio IOA", "MFE", "Criterio MFE", "MFB", "Criterio MFB")

pander(df, justify = "center")
```

\justifying

MFB: Sesgo fraccional  
MFE: Error fraccional medio  
IOA: Índice de acuerdo (Index of Agreement)

\newpage

La Figura 3.3 muestra los ciclos horarios de la dirección del viento medida y modelada en la estación Campamento. De ella se observa que el modelo de pronóstico meteorológico logra reproducir satisfactoriamente el ciclo diario y la tendencia de la dirección del viento.

\centering

```{r, message = FALSE, echo = FALSE, warning = FALSE, results='hide'}

rf <- colorRampPalette(rev(brewer.pal(11,'Spectral')))
r <- rf(32)

HoraYdireccion_Obs <-  Met_Observados %>% 
  dplyr::select(Hora, wd)

hist2d(HoraYdireccion_Obs, nbins = 24, col = r, xlab = "Horas del día", ylab = "Dirección del Viento")

HoraYdireccion_Mod <-  Met_Modelados %>% 
  dplyr::select(Hora, wd)

hist2d(HoraYdireccion_Mod, nbins = 24, col = r, xlab = "Horas del día", ylab = "Dirección del Viento")

```

**Figura 3.3: Ciclo horario de la dirección del viento: Observado y Modelado en la estación Campamento**

\justifying

El análisis estadístico de la dirección del viento observada y medida en la estación Campamento se muestra en la Tabla III.3. De ella se observa que el modelo presenta un buen desempeño debido a que los estadísticos se encuentran dentro de los rangos aceptables.

\centering

**Tabla III.3: Análisis estadístico de la dirección del viento en la estación Campamento**

```{r, message = FALSE, echo = FALSE, warning=FALSE}

Direccion <- inner_join(Met_Observados[c('date', 'wd')], Met_Modelados[c('date', 'wd')], by = "date")

MFError = round(200 * mean(abs(Direccion$wd.y - Direccion$wd.x) / (Direccion$wd.y + Direccion$wd.x), na.rm = TRUE), 2)

MFBias <- round(200 * mean((Direccion$wd.y - Direccion$wd.x) / (Direccion$wd.y + Direccion$wd.x), na.rm = TRUE), 2)

df <- data.frame(MFE = MFError,
                 `Criterio MFE` = "<+/- 70,0",
                 MFB = MFBias,
                 `Criterio MFB` = "<+/- 60,0")

colnames(df) <- c("MFE", "Criterio MFE", "MFB", "Criterio MFB")

pander(df, justify = "center")
```

\justifying

\newpage

\hfill\break

## 3.2	EVALUACIÓN DEL PRONÓSTICO DE MP10

La Figura 3.4 muestra el ciclo diario de las concentraciones de MP10 (µg/m3) medida y modelada en la estación Campamento para el mes de `r MesDelReporte` del `r YearDelReporte`. El modelo logra captar el ciclo y tendencia de los niveles de MP10.

\hfill\break

\centering

```{r, message = FALSE, echo = FALSE}
# Calculate daily averages for both dataframes
daily_avg_modelados <- MP10_Modelados %>%
  mutate(Fecha = as.Date(Fecha, tz = "UTC")) %>% 
  group_by(Fecha) %>%
  summarise(Daily_Avg_Mod = mean(MP10_Mod, na.rm = TRUE))

daily_avg_observados <- MP10_Observados %>%
  mutate(Fecha = as.Date(Fecha, tz = "UTC")) %>% 
  group_by(Fecha) %>%
  summarise(Daily_Avg_Obs = mean(MP10_Obs, na.rm = TRUE))


# Combine the averages into one dataframe
daily_avg_combined <- merge(daily_avg_modelados, daily_avg_observados, by = "Fecha")


# Reshape for plotting
daily_avg_long <- daily_avg_combined %>%
  pivot_longer(cols = -Fecha, names_to = "Type", values_to = "Average") %>%
  mutate(Type = factor(Type, levels = c("Daily_Avg_Mod", "Daily_Avg_Obs"), labels = c("Modelado", "Observado")))

daily_avg_long$Type <- factor(daily_avg_long$Type, levels = c("Observado", "Modelado"))


# Plot
date_breaks <- seq(as.Date("2024-04-01"), as.Date("2024-04-30"), by = "1 day")

ggplot(daily_avg_long, aes(x = Fecha, y = Average, fill = Type)) +
  geom_bar(stat = "identity", position = position_dodge(width = 0.7)) +
  scale_fill_manual(values = c("Modelado" = "#F8766D", "Observado" = "#00BFC4")) +
  labs(x = paste("Días de", MesDelReporte), y = "MP10 (µg/m3N)", fill = "") +
  theme_bw() +
  theme(legend.position = "top", legend.title = element_blank(),
        axis.text.x = element_text(vjust = 0.5, hjust = 1)) +
  geom_hline(yintercept = c(130, 230, 330), linetype = "dashed", color = "grey") +
  annotate("text", x = as.Date("2024-04-14"), y = c(115, 215, 315), label = c("Bueno", "Alerta", "Pre-Emergencia"), hjust = 0, size = 3.5) +
  annotate("text", x = as.Date("2024-04-14"), y = 345, label = "Emergencia", hjust = 0, size = 3.5) +
  scale_x_date(breaks = date_breaks, labels = format(date_breaks, "%d"))


```

**Figura 3.4: Ciclo diario de las concentraciones de MP10 medida y modelada de la estación Campamento**

\justifying


```{r, echo = FALSE, message = FALSE, warning = FALSE}
# EXACTITUD POR DIA

daily_avg_combined <- daily_avg_combined %>% 
  mutate(Bueno = case_when((between(Daily_Avg_Obs, 0, 130) & between(Daily_Avg_Mod, 0, 130)) | (!between(Daily_Avg_Obs, 0, 130) & (!between(Daily_Avg_Mod, 0, 130))) ~ 1,
                           TRUE ~ 0),
         Alerta = case_when((between(Daily_Avg_Obs, 130, 230) & between(Daily_Avg_Mod, 130, 230)) | (!between(Daily_Avg_Obs, 130, 230) & (!between(Daily_Avg_Mod, 130, 230))) ~ 1,
                            TRUE ~ 0),
         Pre_Emergencia = case_when((between(Daily_Avg_Obs, 230, 330) & between(Daily_Avg_Mod, 230, 330)) | (!between(Daily_Avg_Obs, 230, 330) & (!between(Daily_Avg_Mod, 230, 330))) ~ 1,
                                    TRUE ~ 0),
         Emergencia = case_when((Daily_Avg_Obs > 330 & Daily_Avg_Mod > 330) | (Daily_Avg_Obs < 330 & Daily_Avg_Mod < 330) ~ 1,
                                TRUE ~ 0))

pct_bueno = sum(daily_avg_combined$Bueno, na.rm = TRUE) / nrow(daily_avg_combined)
pct_alerta = sum(daily_avg_combined$Alerta, na.rm = TRUE) / nrow(daily_avg_combined)
pct_pre_emergencia = sum(daily_avg_combined$Pre_Emergencia, na.rm = TRUE) / nrow(daily_avg_combined)
pct_emergencia = sum(daily_avg_combined$Emergencia, na.rm = TRUE) / nrow(daily_avg_combined)
promedio = mean(c(pct_bueno, pct_alerta, pct_pre_emergencia, pct_emergencia))
```

\justifying

MFB: Sesgo fraccional  
MFE: Error fraccional medio

\newpage

\hfill\break

**3.2.1	Evaluación del pronóstico como herramienta de gestión**

Para evaluar el desempeño del modelo de pronóstico de MP10, se dispone de la base de datos de `r MesDelReporte` `r YearDelReporte`, de las concentraciones de MP10 medidas en la estación Campamento, las cuales se comparan con las concentraciones de MP10 pronosticadas por GEOMET para igual período.

La evaluación se realiza por niveles de gestión, y se calcula la Exactitud del pronóstico para cada nivel.

La Tabla III.4 muestra la Exactitud del modelo de pronóstico para el período evaluado en la estación de Campamento. De ella se observa que en promedio, el acierto del modelo es de un `r label_percent(1)(promedio)`, para el período de `r MesDelReporte` `r YearDelReporte`.

\hfill\break

\centering

**Tabla III.4: Exactitud en la estimación del MP10**

```{r, message = FALSE, echo = FALSE, warning=FALSE}


df <- data.frame(Nivel = c("Bueno", "Alerta", "Pre-Emergencia", "Emergencia", "Promedio"),
                 `Exactitud (%)` = c(label_percent(1)(pct_bueno),
                                     label_percent(1)(pct_alerta),
                                     label_percent(1)(pct_pre_emergencia),
                                     label_percent(1)(pct_emergencia),
                                     label_percent(1)(promedio)))

colnames(df) <- c("Nivel", "Exactitud (%)")
emphasize.strong.cells(which(df == label_percent(1)(promedio)| df == "Promedio", arr.ind = TRUE))
pander(df, justify = "center")
```


\newpage

\hfill\break

\justifying

# 4	CONCLUSIONES

Del análisis del desempeño del modelo de pronóstico meteorológico y de MP10, se concluye que éste presenta un buen ajuste al evaluar su acierto en términos gráficos y estadísticos.

Para el MP10, el modelo logra un buen acierto en todos los niveles de gestión y además, logra reproducir el ciclo horario-diario, lo que asegura que si se toman las medidas de control en los horarios previos a los máximos, se puede reducir el impacto en receptores de interés.

De esta forma, el buen desempeño del modelo de pronóstico, permiten concluir que esta herramienta desarrollada para Campamento, cumple con los requerimientos para realizar una adecuada gestión de riesgos por MP10.




















































































































